@{
    Layout = "~/Views/Shared/_LayoutPrev.cshtml";
}

@using TicketDesk.Localization.Views.TicketCenter

@model  TicketCenterListViewModel

@using TicketDesk.Web.Client.Models

@section title{ @Index.Title }

<main style="display: none;">
    <br /><br />
    @Html.Partial("_ListMenu", Model.UserListSettings, new ViewDataDictionary
        {
            { "CurrentListSettings", Model.CurrentListSetting }
        })

    @Html.Partial("_TicketList", Model)

</main>

@section scripts{

    @Scripts.Render("~/bundles/ticketcenter")
    <script type="text/javascript">

        $(document).ready(function () {
            $('main').show();
            $.ajaxSetup({ cache: false });
            ticketCenter.filters.setupFilterForm();
            ticketCenter.makeClicky();
        });

        function timedRefresh(timeoutPeriod) {
            setTimeout(function () {
                location.reload(true);
            }, timeoutPeriod);
        }

    </script>
}